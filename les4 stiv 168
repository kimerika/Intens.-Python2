import sys

# Проверяем, передан ли аргумент командной строки
if len(sys.argv) < 2:
    print("Ошибка! Необходимо передать имя файла в аргументах командной строки.")
    sys.exit()

# Имя файла задается первым аргументом командной строки
filename = sys.argv[1]

# Открываем файл на чтение
try:
    with open(filename, 'r') as f:
        # Читаем файл и получаем список строк
        lines = f.readlines()
except FileNotFoundError:
    print("Ошибка! Файл не найден.")
    sys.exit()

# Создаем словарь для хранения всех встретившихся слов и номеров строк, где они встречаются
word_dict = {}

# Проходим по каждой строке текста
for i, line in enumerate(lines):
    # Обработка строки: удаляем знаки препинания, приводим к нижнему регистру и создаем список слов
    line = line.replace(',', '').replace('.', '').replace('!', '').replace('?', '').replace('-', '').lower()
    words = line.strip().split()

    # Проходим по каждому слову в строке
    for word in words:
        # Если слово уже встречалось в другой строке, вывести его номер и дублирующееся слово
        if word in word_dict:
            print("Найден дубль слова '{}' в строках {} и {}".format(word, word_dict[word], i+1))
        # Добавляем слово в словарь, указывая на его первое вхождение в данную строку
        else:
            word_dict[word] = i+1

# Если дублирующихся слов не найдено, вывести сообщение об успешном завершении
if not any(word in word_dict for word in lines):
    print("Дублирующиеся слова не найдены.")
